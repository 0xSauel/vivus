"use strict";function Pathformer(t){if(!t)throw new Error('Pathformer contructor: "element" parameter is required');if(t.constructor===String&&(t=document.getElementById(t),!t))throw new Error('Pathformer contructor: "element" parameter is not related to an existing ID');if(t.constructor!==SVGSVGElement)throw new Error('Pathformer contructor: "element" parameter must be a string or a SVGelement');this.el=t,this.scan(t)}Pathformer.prototype.TYPES=["line","elipse","circle","polyline","rect"],Pathformer.prototype.scan=function(t){for(var r,e,o,a,n=t.querySelectorAll(this.TYPES.join(",")),i=0;i<n.length;i++)e=n[i],r=this[e.tagName.toLowerCase()+"ToPath"],o=r(this.parseAttr(e.attributes)),a=this.pathMaker(e,o),t.replaceChild(a,e)},Pathformer.prototype.lineToPath=function(t){var r={};return r.debug="modified-line",r.d="M"+t.x1+","+t.y1+"L"+t.x2+","+t.y2,r},Pathformer.prototype.rectToPath=function(t){var r={};return t.x=t.x||0,t.y=t.y||0,r.debug="modified-rect",r.d="M"+t.x+" "+t.y+" ",r.d+="L"+(t.x+t.width)+" "+t.y+" ",r.d+="L"+(t.x+t.width)+" "+(t.y+t.height)+" ",r.d+="L"+t.x+" "+(t.y+t.height)+" Z",r},Pathformer.prototype.polylineToPath=function(t){var r={};r.debug="modified-polyline";for(var e=t.points.split(" "),o="M"+e[0],a=1;a<e.length;a++)o+="L"+e[a];return r.d=o,r},Pathformer.prototype.elipseToPath=function(t){var r=t.cx-t.rx,e=t.cy,o=parseFloat(t.cx)+parseFloat(t.rx),a=t.cy,n={};return n.debug="modified-elipse",n.d="M"+r+","+e+"A"+t.rx+","+t.ry+" 0,1,1 "+o+","+a+"A"+t.rx+","+t.ry+" 0,1,1 "+r+","+a,n},Pathformer.prototype.circleToPath=function(t){var r={},e=t.cx-t.r,o=t.cy,a=parseFloat(t.cx)+parseFloat(t.r),n=t.cy;return r.debug="modified-circle",r.d="M"+e+","+o+"A"+t.r+","+t.r+" 0,1,1 "+a+","+n+"A"+t.r+","+t.r+" 0,1,1 "+e+","+n,r},Pathformer.prototype.pathMaker=function(t,r){var e,o,a=document.createElementNS("http://www.w3.org/2000/svg","path");for(e=0;e<t.attributes.length;e++)o=t.attributes[e],a.setAttribute(o.name,o.value);for(e in r)a.setAttribute(e,r[e]);return a},Pathformer.prototype.parseAttr=function(t){for(var r,e={},o=0;o<t.length;o++)r=t[o],e[r.name]=r.value;return e};
"use strict";function Vivus(t,e,i){if(!t)throw new Error('Vivus contructor: "element" parameter is required');if(e&&e.constructor!==Object)throw new Error('Vivus contructor: "options" parameter must be an object');if(i&&i.constructor!==Function)throw new Error('Vivus contructor: "callback" parameter must be a function');if(t.constructor===String&&(t=document.getElementById(t),!t))throw new Error('Vivus contructor: "element" parameter is not related to an existing ID');if(t.constructor!==SVGSVGElement)throw new Error('Vivus contructor: "element" parameter must be a string or a SVGelement');this.el=t,this.initOptions(e),this.callback=i||function(){},this.isDrawn=!1,this.currentFrame=0,this.map=[],this.mapping(),this.init()}Vivus.prototype.initOptions=function(t){var e=["delayed","async","oneByOne","script"],i=["inViewport","manual","autostart"];if(this.type=-1===e.indexOf(t.type)?e[0]:t.type,this.start=-1===i.indexOf(t.start)?i[0]:t.start,this.duration=t.duration&&t.duration>0?t.duration:120,this.delay=t.delay>=0?parseInt(t.delay,10):null,this.delay>this.duration)throw new Error("Vivus contructor: delai must be shorter than duration")},Vivus.prototype.mapping=function(){var t,e,i,n,r,o,a,s;for(s=o=a=0,e=this.el.querySelectorAll("path"),t=0;t<e.length;t++)i=e[t],r={el:i,length:Math.ceil(i.getTotalLength())},o+=r.length,this.map.push(r),i.style.strokeDasharray=r.length+" "+(r.length+10),i.style.strokeDashoffset=r.length;for(this.delay=null===this.delay?this.duration/3:this.delay,this.delayUnit=this.delay/e.length,t=0;t<e.length;t++){switch(r=this.map[t],this.type){case"delayed":r.startAt=this.delayUnit*t,r.duration=this.duration-this.delay;break;case"oneByOne":r.startAt=a/o*this.duration,r.duration=r.length/o*this.duration;break;case"async":r.startAt=0,r.duration=this.duration;break;case"script":i=e[t],n=this.parseAttr(i.attributes),r.startAt=s+(parseInt(n["data-delay"],10)||this.delayUnit||0),r.duration=parseInt(n["data-duration"],10)||this.duration,s=void 0!==n["data-async"]?s+(parseInt(n["data-delay"],10)||0):r.startAt+r.duration}a+=r.length}},Vivus.prototype.parseAttr=function(t){for(var e,i={},n=0;n<t.length;n++)e=t[n],i[e.name]=e.value;return i},Vivus.prototype.init=function(){switch(this.start){case"manual":return;case"autostart":this.draw();break;default:var t=this,e=function(){t.isInViewport(t.el,1)&&(t.draw(),window.removeEventListener("scroll",e))};window.addEventListener("scroll",e)}},Vivus.prototype.reset=function(){this.isDrawn&&(this.isDrawn=!1,this.prepairPaths(),this.draw())},Vivus.prototype.draw=function(){this.isDrawn||this.drawer()},Vivus.prototype.drawer=function(){var t,e,i,n=this;if(this.map[this.map.length-1].done)window.cancelAnimFrame(this.handle),this.callback(this);else{for(t in this.map)i=this.map[t],!i.done&&i.startAt<this.currentFrame&&(e=(this.currentFrame-i.startAt)/i.duration,e>1&&(i.done=!0,e=1),i.el.style.strokeDashoffset=Math.floor(i.length*(1-e)));this.handle=window.requestAnimFrame(function(){n.drawer()})}this.currentFrame++},Vivus.prototype.isInViewport=function(t,e){for(;!t.offsetTop;)t=t.parentElement;var i=t.offsetHeight,n=this.scrollY(),r=n+this.getViewportH(),o=this.getOffset(t).top,a=o+i,s=e||0;return r>=o+i*s&&a>=n},Vivus.prototype.docElem=window.document.documentElement,Vivus.prototype.getViewportH=function(){var t=this.docElem.clientHeight,e=window.innerHeight;return e>t?e:t},Vivus.prototype.scrollY=function(){return window.pageYOffset||this.docElem.scrollTop},Vivus.prototype.getOffset=function(t){var e=0,i=0;do isNaN(t.offsetTop)||(e+=t.offsetTop),isNaN(t.offsetLeft)||(i+=t.offsetLeft);while(t=t.offsetParent);return{top:e,left:i}},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),window.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){window.clearTimeout(t)}}();